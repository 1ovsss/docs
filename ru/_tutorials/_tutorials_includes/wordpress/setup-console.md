1. [Подготовьте облако к работе](#before-you-begin).
1. [Создайте группу безопасности](#create-security-group).
1. [Создайте ВМ для WordPress](#create-vm).
1. [Настройте DNS (если есть доменное имя)](#configure-dns).
1. [Настройте WordPress](#wordpress-config).

Если созданные ресурсы вам больше не нужны, [удалите их](#clear-out).

## Подготовьте облако к работе {#before-you-begin}

{% include [before-you-begin](../../_tutorials_includes/before-you-begin.md) %}

{% include [network-is-exist](../../_tutorials_includes/network-is-exist.md) %}

### Необходимые платные ресурсы {#paid-resources}

{% include [paid-resources-wp](../../_tutorials_includes/wordpress/paid-resources-wp.md) %}

## Создайте группу безопасности {#create-security-group}

Чтобы создать [группу безопасности](../../../vpc/concepts/security-groups.md):

{% list tabs group=instructions %}

- Консоль управления {#console}

  1. В [консоли управления]({{ link-console-main }}) выберите сервис **{{ vpc-name }}**.
  1. Откройте вкладку **Группы безопасности**.
  1. Нажмите кнопку **Создать группу**.
  1. Укажите **Имя** группы: `wordpress`.
  1. Выберите **Сеть**.
  1. В блоке **Правила** создайте следующие правила по инструкции под таблицей:

     Направление<br>трафика | Описание | Диапазон<br>портов | Протокол | Тип источника /<br>назначения | Источник /<br>назначение
     --- | --- | --- | --- | --- | ---
     Исходящий | any | Весь | Любой | CIDR | 0.0.0.0/0
     Входящий | ext-http | 80 | TCP | CIDR | 0.0.0.0/0
     Входящий | ext-https | 443 | TCP | CIDR | 0.0.0.0/0

     1. Выберите вкладку **Исходящий трафик** или **Входящий трафик**.
     1. Нажмите кнопку **Добавить правило**.
     1. В открывшемся окне в поле **Диапазон портов** укажите порт, куда будет поступать трафик. Для исходящего трафика не указывайте ничего.
     1. В поле **Протокол** укажите нужный протокол. Для исходящего трафика оставьте **Любой**, чтобы разрешить передачу трафика по всем протоколам.
     1. В поле **Назначение** или **Источник** выберите **CIDR** — правило будет применено к диапазону IP-адресов. В поле **CIDR блоки** укажите `0.0.0.0/0`.
     1. Нажмите кнопку **Сохранить**. Таким образом создайте все правила из таблицы.
  1. Нажмите кнопку **Сохранить**.

{% endlist %}

## Создайте ВМ для WordPress {#create-vm}

Чтобы создать ВМ:

{% list tabs group=instructions %}

- Консоль управления {#console}

  1. На странице каталога в [консоли управления]({{ link-console-main }}) нажмите кнопку **Создать ресурс** и выберите **Виртуальная машина**.

     ![create-vm](../../../_assets/tutorials/wordpress/vm-create-1.png)

  1. В поле **Имя** введите имя ВМ `wordpress`. Требования к имени:

     {% include [name-format](../../../_includes/name-format.md) %}

  1. Выберите зону доступности, в которой будет находиться ВМ.
  1. В блоке **Выбор образа/загрузочного диска** перейдите на вкладку **{{ marketplace-name }}** и выберите публичный образ [WordPress](../../../marketplace/products/yc/wordpress).

     ![choose-image](../../../_assets/tutorials/wordpress/vm-create-3.png)

  1. В блоке **Вычислительные ресурсы**:
     * Выберите [платформу](../../../compute/concepts/vm-platforms.md).
     * Укажите необходимое количество vCPU и объем RAM.

     Для тестирования хватит минимальной конфигурации:
     * **Платформа** — Intel Ice Lake.
     * **vCPU** — 2.
     * **Гарантированная доля vCPU** — 20%.
     * **RAM** — 1 ГБ.
  1. В блоке **Сетевые настройки** выберите, к какой подсети необходимо подключить ВМ при создании.
  1. В пункте **Публичный адрес** выберите **Автоматически**.

     ![choose-network](../../../_assets/tutorials/wordpress/vm-create-4.png)

  1. В пункте **Группа безопасности** выберите группу `wordpress`.
  1. Укажите данные для доступа на ВМ:
     * В поле **Логин** введите имя пользователя.
     * В поле **SSH-ключ** вставьте содержимое файла открытого ключа.

       Пару ключей для подключения по [SSH](../../../glossary/ssh-keygen.md) необходимо создать самостоятельно. Подробнее см. [{#T}](../../../compute/operations/vm-connect/ssh.md).
  1. Нажмите кнопку **Создать ВМ**.

  Создание ВМ может занять несколько минут. Когда ВМ перейдет в статус `RUNNING`, вы можете начать настраивать сайт.

  При создании ВМ назначается публичный IP-адрес и [имя хоста (FQDN)](../../../compute/concepts/network.md#hostname). Эти данные можно использовать при настройке DNS и для доступа по SSH.

{% endlist %}

## Настройте DNS (если есть доменное имя) {#configure-dns}

Если у вас есть зарегистрированное доменное имя, воспользуйтесь сервисом [{{ dns-full-name }}](../../../dns/) для управления доменом.

{% include [configure-a-record-and-cname](../../_tutorials_includes/configure-a-record-and-cname.md) %}

## Настройте WordPress {#wordpress-config}

Чтобы настроить WordPress:

{% list tabs group=instructions %}

- Консоль управления {#console}

  {% include [wordpress-config](wordpress-config.md) %}

{% endlist %}

## Как удалить созданные ресурсы {#clear-out}

Чтобы перестать платить за созданные ресурсы:

1. [Удалите](../../../compute/operations/vm-control/vm-delete.md) ВМ `wordpress`.
1. [Удалите](../../../vpc/operations/address-delete.md) статический публичный IP-адрес, если вы зарезервировали его специально для этой ВМ.
1. [Удалите](../../../dns/operations/resource-record-delete.md) DNS-записи и [удалите](../../../dns/operations/zone-delete.md) DNS-зону, если вы использовали {{ dns-name }}.
