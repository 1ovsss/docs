# Политика доступа по IP-адресам

С помощью _политики доступа по IP-адресам_ можно ограничить доступ к контенту, распространяемому через CDN, задавая для [CDN-ресурсов](./resource.md) черные и белые списки IP-адресов. 

Вы можете настроить политику доступа при [создании](../operations/resources/create-resource.md) или [изменении](../operations/resources/configure-basics.md) CDN-ресурса с помощью [CLI](../../cli/quickstart.md), [{{ TF }}]({{ tf-provider-resources-link }}/cdn_resource) и [API](../../api-design-guide/concepts/general.md).

Политика доступа по IP-адресам определяется [типом политики](#policy-type) и [списком IP-адресов](#ip-list), которые будут исключены из политики.

Подробнее о политике доступа по IP-адресам см. в [документации CDN-провайдера](https://support.edgecenter.ru/knowledge_base/item/257918?sid=57227) EdgeЦентр.

## Тип политики {#policy-type}

Для ресурса можно задать _разрешающую_ или _блокирующую_ политику.

Разрешающая политика открывает доступ к контенту CDN-ресурса для любых IP-адресов, кроме заданных пользователем в списке исключений. Политика задается значением `allow`. Адреса, исключенные из разрешающей политики, формируют черный список IP-адресов.

Блокирующая политика запрещает доступ к контенту CDN-ресурса для любых IP-адресов, кроме заданных пользователем в списке исключений. Политика задается значением `deny`. Адреса, исключенные из блокирующей политики, формируют белый список IP-адресов.

## Список исключенных IP-адресов {#ip-list}

Исключаемые из политики доступа IP-адреса должны быть указаны с префиксом подсети в [нотации CIDR](https://ru.wikipedia.org/wiki/Бесклассовая_адресация), например: `192.168.3.2/32` или `2a03:d000:2980:7::8/128`. Для каждого заданного пользователем адреса сервис вычисляет диапазон IP-адресов сети, к которой относится этот адрес, и добавляет в список исключений все адреса из этого диапазона. 

Например, если пользователь укажет адрес `1.2.3.4/24`, то сервис добавит в список исключений весь диапазон IP-адресов от `1.2.3.1` до `1.2.3.254`, потому что все они принадлежат сети `1.2.3.0/24`, в которую входит заданный пользователем адрес.

Совокупность всех добавленных в исключения диапазонов формирует в зависимости от заданного [типа политики](#policy-type) черный или белый список IP-адресов.

#### См. также {#see-also}

* [{#T}](../operations/resources/create-resource.md)
* [{#T}](../operations/resources/configure-basics.md)